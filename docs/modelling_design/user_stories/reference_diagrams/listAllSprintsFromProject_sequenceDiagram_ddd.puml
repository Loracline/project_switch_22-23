@startuml

skinparam sequenceMessageAlign center
title TO LIST ALL SPRINTS FROM A PROJECT
autonumber
actor "Project Manager" as pm

participant ":ListSprintsUI" as ui
participant ":SprintWebController" as controller
participant ":SprintListService" as service
participant ":SprintRepository" as repository
participant "sprintsVoDto: List<SprintDto>" as list
participant ":SprintMapper" as mapper
participant "sprintDto: SprintDto" as dto

activate pm
pm -> ui: asks for list of sprints of a specific project
activate ui
note right
primitive type DTO
end note
ui -> controller: listSprintsFromProject(codeStringDto)
note right
value object DTO
end note
activate controller
controller -> service: listSprintsFromProject(codeVoDto)
activate service
service -> repository: findByProjectCode(code)
activate repository
repository --> service: sprints
deactivate repository
create list
service -> list: create()
loop for each sprint in sprints
service -> mapper: sprintToDto(sprint)
activate mapper
create dto
mapper -> dto: create()
activate dto
dto --> mapper: sprintDto
deactivate dto
mapper --> service: sprintDto
deactivate mapper
service -> list: add(sprintDto)
end loop
service --> controller: sprintsVoDto
deactivate service
ui <-- controller: sprintsPtDto
note right
value objects DTOs
end note
deactivate controller
ui --> pm: shows list of sprints of a specific project
note right
primitive types DTOs
end note
deactivate ui

@enduml