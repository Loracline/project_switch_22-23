@startuml

skinparam sequenceMessageAlign center
title TO CHANGE PROFILE
legend top
US003 - As Administrator, I want to change the profile of a user account.
end legend
actor Administrator
participant ":ChangeProfileUI" as ui
participant ":ChangeProfileController" as controller
participant ":Company" as company
participant "profileContainer:ProfileContainer" as pcontainer
participant "accountContainer:AccountContainer" as acontainer
participant "a:Account" as account
participant "p:Profile" as pprofile

activate Administrator
Administrator -> ui: 1. Changes account profile
activate ui
Administrator <-- ui: 1.1. Requests data (e-mail, profileName)
deactivate ui
Administrator -> ui: 2.  Enters account data
activate ui
ui -> controller: 2.1. changeProfile(e-mail, profileName)
activate controller
controller -> company: 2.1.1. profileContainer=getProfileContainer()
activate company
deactivate company
controller -> pcontainer: 2.1.2. profile=getProfileByName(profileName)
activate pcontainer
deactivate pcontainer
controller-> company: 2.1.3. accountContainer=getAccountContainer()
activate company
deactivate company
controller -> acontainer: 2.1.4. account=getAccountByEmail(e-mail)
activate acontainer
deactivate acontainer
controller -> account: 2.1.5. setProfile(profile)
activate account
deactivate account
controller --> ui: Account profile updated
deactivate controller
ui --> Administrator: Informs account profile update

@enduml