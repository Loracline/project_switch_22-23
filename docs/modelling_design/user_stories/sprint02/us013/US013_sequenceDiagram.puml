

@startuml
'https://plantuml.com/class-diagram
skinparam sequenceMessageAlign center
title TO DEFINE THE SCRUM MASTER OF A PROJECT
legend top
US013 - As Manager, I want to define the Scrum Master of a project.
end legend
autonumber

actor Manager
participant ":DefinesAScrumMasterUI" as ui
participant "DefinesAScrumMasterController" as controller
participant "Service" as ser
participant ":Company" as company
participant ":AccountContainer" as ac
participant "account:Account" as a
participant ":ProjectContainer" as pcpcontainer
participant ":AccountInProjectContainer" as accinprojcont
participant ":AccountInProject" as accinproj


Manager -> ui:  defines a Scrum Master of a project
activate ui
Manager <-- ui:  requests data (email,projectCode, role)
deactivate ui
Manager -> ui:  enters data
activate ui
ui -> controller: definesAScrumMaster(email, projectCode)
activate controller
controller -> ser: definesAScrumMaster (email, projectCode)
activate ser
ser -> company: validateManager(email)
activate company
company -> ac: validateManager(email)
activate ac
ac -> ac: account=getAccountByEmail(email)
ac -> a: validateManager(email)
activate a
a -->> ac: true
deactivate a
ac -->> company: true
deactivate ac
company -->> ser: true
deactivate company
ser -> company: getAccountByEmail(email)
activate company
company -> ac: getAccountByEmail(email)
activate ac
company <-- ac: account
deactivate ac
company -> pcpcontainer: getProject(projectCode)
activate pcpcontainer
company <-- pcpcontainer: project
deactivate pcpcontainer
company -> accinprojcont: definesAScrumMaster(account,project)
activate accinprojcont
create accinproj
accinprojcont -> accinproj: definesAScrumMaster(account, project)
accinprojcont -> accinprojcont: addToContainer()
deactivate accinproj
accinprojcont --> company: true
deactivate accinprojcont
company --> ser : true
deactivate company
ser --> controller: true
deactivate ser
controller --> ui: true
deactivate controller
ui -->> Manager: informs set Role
deactivate ui
@enduml

