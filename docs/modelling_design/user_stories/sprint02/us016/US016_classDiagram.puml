@startuml
'https://plantuml.com/sequence-diagram

legend top
US016 - As Authenticated User, I want to get a list of all projects I'm currently allocated to.
end legend
skinparam sequenceMessageAlign center
title LIST ALL PROJECTS THE USER IS ALLOCATED AS AUTHENTICATED

class ":ListProjectInAccountController" {
- company
+ listProjectsByAccount(email, emailUser)
}
class "Company" {
- accountInProjectContainer
+ listProjectsByAccount(email)
+validateUser(emailUser)
}

class "AccountContainer" {
-accounts
+validateUser(emailUser)
}

class "Account" {
-email
-profile
-status
+checkAccountFromEmail(email)
+isUser()
+getAccountName()
+getEmail()
+getAccountStatus()
}

class "Profile"{
-profileName
+isUser()
}


class "AccountInProjectContainer"{
- accountInProject
+ listProjectsByAccount(email)
}

class "AccountInProject"{
-account
-project
-role
-startDate
-costPerHour
-percentageAllocation
-endDate
-validate(email)
+ getProjectbyAccount(email)
}

class "ProjectMapperUS016"{
+getListOfProjectsDTO(projects)
+getDTOFromProject(project)
}

class "ProjectDTOus016"{
+code;
+name;
+customer;
+status;
+projectTypology;
+businessSector
}

class "Project"{
-projectCode
-projectName
-customer
-projectStatus
-projectTypology
-businessSector
+getProjectCode()
+getProjectName()
+getCustomer()
+getProjectStatus()
+getProjectTypology()
+getBusinessSector()
}
"ProjectMapperUS016" ..> "Project"
":ListProjectInAccountController"-->"Company"
"Company" "1"--> "     1""AccountInProjectContainer": has
"Company" "1   " --> "     1" "AccountContainer": has
"AccountInProjectContainer" "1"--> "*" "AccountInProject"
"AccountContainer" "1" --> "*" "Account": has
"Account" "1" --> "1""Profile": has
":ListProjectInAccountController"..> "ProjectMapperUS016"
"ProjectMapperUS016"..> "ProjectDTOus016"



@enduml