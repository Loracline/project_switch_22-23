@startuml

skinparam sequenceMessageAlign center
title TO ASSOCIATE USER TEAM MEMBER TO A PROJECT
legend top
US011 - As Manager, I want to associate a User as Team Member of a project.
end legend

class AddUserInProjectController {
-service
+addUserInProject(projectCode, email, role)
}

class Service {
- company
+addUserInProject(projectCode, email, role)
}

class Company {
-accountContainer
-accountInProjectContainer
-projectContainer
+ validateManager(email)
+addUserInProject(projectCode, email, role)
}

class AccountInProject{
-account
-project
-role
+createAccountInProject(account, project, role)
}

class Account{
-email
+isManager()
}

class AccountContainer {
-accounts
+ validateManager(email)
+getAccountByEmail(email)
+isAccountValid(email)
}

class ProjectContainer{
-projets
+getProject(projectCode)
+isProjectValid(projectCode)
}

class AccountInProjectContainer{
-accountInProjects
+addAccountInProject(accountInProject)
}


AddUserInProjectController --> Service
Service --> Company
Company "1"-->"1" AccountContainer: has
Company "1"-->"1" AccountInProjectContainer: has
Company "1"-->"1" ProjectContainer: has
AccountInProjectContainer "1"-->"*" AccountInProject: contains
AccountContainer "1"-->"*" Account: contains
@enduml