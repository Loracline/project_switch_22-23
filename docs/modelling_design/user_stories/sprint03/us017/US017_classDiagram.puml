@startuml
'https://plantuml.com/sequence-diagram
legend top
US017 - As Product Owner, I want to create User Story and add it to Product Backlog
end legend
skinparam sequenceMessageAlign center
title To create User Story and add it to Product Backlog/ To consult the product backlog/ To create a sprint

class "CreateUserStoryController" {
- company
+ createUserStory(projectDto,userStoryCreationDto)
}

class "Company" {
- projectContainer
- userStoryContainer
+ createUserStory(projectDto,userStoryCreationDto)
}

class "UserStoryContainer"{
-userStories
-factoryUserStory
+createUserStory((projectDto,userStoryCreationDto, projectContainer)
+addUserStory(userStory)
-isUserStoryUnique(userStory)

}

class "ProjectContainer" {
- projects
+ addUserStoryToProductBacklog(projectDto,userStory)
-getProjectByCode(projectCode)
}

class "Project"{
- productBacklog
+ addUserStoryToProductBacklog(projectCode,userStory)
- hasProjectCode(projectCode)

}
class "ProductBacklog" {
- userStories
+ addUserStoryToProductBacklog(userStory)
- isUserStoryUnique(userStory)
}
class "UserStory"{
- userStoryNumber
- projectCode
- actor
- userStoryText
- status
- effort
- listOfAcceptanceCriteria
+ UserStory(projectCode,userStoryNumber, actor, userStoryText)
}

interface "FactoryUserStory" {
+ createUserStory(projectCode, userStoryNumber,actor, userStoryText)
}
class "UserStoryCreationDto"{
+projectCode
+userStoryNumber
+actor
+userStoryText
}
class "ProjectDto"{
-projectCode
}

"CreateUserStoryController""1"-->"1" "Company"
"Company" "1"--> "1" "UserStoryContainer"
"UserStoryContainer" "*" --> "1""FactoryUserStory"
"UserStoryContainer" ..> "ProjectContainer"
"ProjectContainer" "1"-->"*" "Project"
"Project" "1" -->"1" "ProductBacklog"
"FactoryUserStory" ..> "UserStory"
"ProjectDto"<.. "ProjectContainer"
"UserStoryCreationDto"<.."UserStoryContainer"
@enduml