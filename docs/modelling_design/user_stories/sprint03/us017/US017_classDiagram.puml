@startuml
'https://plantuml.com/sequence-diagram
legend top
US017 - As Product Owner, I want to create User Story and add it to Product Backlog
end legend
skinparam sequenceMessageAlign center
title To create User Story and add it to Product Backlog

class "CreateUserStoryController" {
- company
+ createUserStory(projectDto,userStoryCreationDto)
}

class "Company" {
- projectContainer
+ createUserStory(projectDto,userStoryCreationDto)
}


class "ProjectContainer" {
- projects
+ createUserStory(projectDto,userStoryCreationDto)
-getProjectByCode(projectCode)
}

class "Project"{
- productBacklog
- sprints
+ hasProjectCode(projectCode)
- hasUserStoryNumberInSprints(String userStoryNumber)
+ createUserStory(userStoryCreationDto)


}
class "Sprint"{
-SprintBacklog
+hasUserStory (userStoryNumber)
}

class "SprintBacklog"{
-userStories
+hasUserStory(userStoryNumber)
}

class "ProductBacklog" {
- userStories
-iFactoryUserStory
+ createUserStory(userStoryCreationDto)
+ addUserStory(UserStory userStory, int priority)
}
class "UserStory"{
- userStoryNumber
- actor
- userStoryText
- status
- effort
- listOfAcceptanceCriteria
-UserStory(builder)
+UserStoryBuilder(userStoryNumber)
+setActor( actor)
+setUserStoryText( userStoryText)
+hasUserStoryNumber(userStoryNumber)
}


interface "FactoryUserStory" {
+ createUserStory(userStoryCreationDto)
}
class "UserStoryCreationDto"{
+userStoryNumber
+actor
+userStoryText
+getPriority()
+getUserStoryNumber()
}
class "ProjectDto"{
+projectCode
+getProjectCode()

}

"CreateUserStoryController""1"-->"1" "Company"
"Company" "1"--> "1" "ProjectContainer"
"ProjectContainer" "1"-->"*" "Project"
"Project" "1" -->"1" "ProductBacklog"
"Sprint" "*"<.. "Project"
"ProductBacklog" "*" --> "1""FactoryUserStory"
"FactoryUserStory" ..> "UserStory"
"ProjectDto"<.. "ProjectContainer"
"ProductBacklog" ..> "Sprint"
"Sprint" "1"-->"1" "SprintBacklog"
"Project" ..> "UserStoryCreationDto"
"ProductBacklog" ..> "UserStoryCreationDto"
"FactoryUserStory" ..> "UserStoryCreationDto"

@enduml