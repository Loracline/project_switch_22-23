@startuml
skinparam sequenceMessageAlign center
title TO VIEW THE SCRUM BOARD OF SPRINT.
legend top
US022 - As Team Member, I want to view the Scrum Board of current sprint.
end legend
autonumber
actor "Team Member" as member
participant ":ViewScrumBoardUI" as ui
participant ":ViewScrumBoardUIController" as controller
participant ":Company" as company
participant ":ProjectContainer" as projectContainer
participant ":Project" as project
participant ":Sprint" as sprint
participant ":UserStoryDtoListAssembler" as dto
participant ":SprintBacklog" as backlog


activate member
activate ui
member -> ui : requests list of projects
ref over ui: US016: list all projects the user is allocated as authenticated
ui --> member : show list of projects
member -> ui : select project
deactivate ui
member -> ui : requests to view the Scrum Board of current sprint
activate ui
"ui" -> controller : getScrumBoard(projectDto)
activate controller
"controller" -> company : getScrumBoard(projectDto)
activate company
"company" -> projectContainer : getScrumBoard(projectDto)
activate projectContainer
"projectContainer" -> project: getScrumBoard()
activate project
"project" -> sprint : getSprintBacklog()
activate sprint
"sprint" -> project : sprintBacklog
deactivate sprint
project -> projectContainer : sprintBacklog
deactivate project
projectContainer -> company : sprintBacklog
deactivate projectContainer
company-> controller : sprintBacklog
deactivate company
controller-> dto : backlogToDto(sprintBacklog)
activate dto
"dto" ->backlog: getUserStories()
activate backlog
"backlog" -> dto: userStories
deactivate backlog

ref over dto: To create a user story DTO

dto --> controller : userStoryDtoList
deactivate dto
controller -> ui : userStoryDtoList
deactivate controller
ui -> member : shows Scrum Board of current sprint

@enduml